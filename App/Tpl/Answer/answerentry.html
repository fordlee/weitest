<include file="Public:header" />
<include file="Public:sidenav" />

<div class="main-content">
	<div class="breadcrumbs" id="breadcrumbs">
		<script type="text/javascript">
			try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
		</script>
		<ul class="breadcrumb">
			<li>
				<i class="icon-home home-icon"></i>
				<a href="#">题库管理</a>
			</li>
			<li class="active">问题添加</li>
		</ul><!-- .breadcrumb -->
	</div>

	<div class="page-content">
		<div class="row">
			<div class="col-xs-12">

				<form action="{:U('answerentrysave')}" method="post" enctype="multipart/form-data" class="form-horizontal" >
					<input type="hidden" name="qid" value="{$qid}">
					<div class="form-group">
						<label class="col-sm-2 control-label no-padding-right" for="languageset">语言：</label>
						<div class="col-sm-2">
							<select id="languageset" name="languageset">
								<option value="zh">中文</option>
								<option value="en">英语</option>
								<option value="pt">葡语</option>
							</select>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-2 control-label no-padding-right">问题：</label>
						<div class="col-sm-10">
							<input type="text" name="content" placeholder="你在前世是怎么死去的？" class="col-sm-6" />
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-2 control-label no-padding-right">答案：</label>
						<div class="col-sm-10">
							<input type="text" name="option[]" placeholder="xx死于xxxx年：在龙的战斗中战死" class="col-sm-6" />
							<div class="col-sm-2">
							<button type="button" onclick="addAnswerPic(this)" class="btn btn-xs btn-primary">
								<i class="icon icon-plus"></i>图片
							</button>&nbsp;
							<button type="button" onclick="delTr(this)" class="btn btn-xs btn-danger"> 
								<i class="icon-minus"></i>移除
							</button>
							</div>
							<input type="file" name="answerPic[]" class="col-sm-2" style="display:none">
						</div>
					</div>
					
					<div class="form-group">
						<label class="col-sm-2 control-label no-padding-right"></label>
						<div class="col-sm-10">
							<button type="button" onclick="addDia(this);" class="btn btn-sm btn-primary">
								<i class="icon icon-plus"></i>添加选项
							</button>
						</div>
					</div>
					
					<div class="form-group">
						<div class="col-sm-2">
							<input type="reset" class="btn btn-light pull-right" value="重置">
						</div>
						<div class="col-sm-7">
							<input type="submit" class="btn btn-primary pull-right" value="添加">
						</div>
					</div>
				</form>

			</div>
		</div>
	</div>
</div><!-- /.main-content -->

<include file="Public:footer" />
<script type="text/javascript">
function addAnswerPic(obj){
	var _this=$(obj);
	_this.parent().next().click();
}

function addDia(obj){
	var _this=$(obj);
	var str=
	'<div class="form-group">'+
		'<label class="col-sm-2 control-label no-padding-right" >答案：</label>'+
		'<div class="col-sm-10">'+
			'<input type="text" name="option[]" placeholder="xx死于xxxx年：在龙的战斗中战死" class="col-sm-6" />'+
			'<div class="col-sm-2">'+
			'<button type="button" onclick="addAnswerPic(this)" class="btn btn-xs btn-primary">'+
				'<i class="icon icon-plus"></i>图片'+
			'</button>&nbsp;'+
			'<button type="button" onclick="delTr(this)" class="btn btn-xs btn-danger">'+ 
				'<i class="icon-minus"></i>移除'+
			'</button>'+
			'</div>'+
			'<input type="file" name="answerPic[]" class="col-sm-2" style="display:none">'+
		'</div>'+
	'</div>';
	_this.parent().parent().before(str);
}

function delTr(obj){
	var _this=$(obj);
	_this.parent().parent().parent().remove();
}

</script>